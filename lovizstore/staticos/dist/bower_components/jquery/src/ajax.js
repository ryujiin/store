define(["./core","./var/document","./var/rnothtmlwhite","./ajax/var/location","./ajax/var/nonce","./ajax/var/rquery","./core/init","./ajax/parseXML","./event/trigger","./deferred","./serialize"],function(e,t,n,r,i,s){function g(t){return function(r,i){typeof r!="string"&&(i=r,r="*");var s,o=0,u=r.toLowerCase().match(n)||[];if(e.isFunction(i))while(s=u[o++])s[0]==="+"?(s=s.slice(1)||"*",(t[s]=t[s]||[]).unshift(i)):(t[s]=t[s]||[]).push(i)}}function y(t,n,r,i){function u(a){var f;return s[a]=!0,e.each(t[a]||[],function(e,t){var a=t(n,r,i);if(typeof a=="string"&&!o&&!s[a])return n.dataTypes.unshift(a),u(a),!1;if(o)return!(f=a)}),f}var s={},o=t===d;return u(n.dataTypes[0])||!s["*"]&&u("*")}function b(t,n){var r,i,s=e.ajaxSettings.flatOptions||{};for(r in n)n[r]!==undefined&&((s[r]?t:i||(i={}))[r]=n[r]);return i&&e.extend(!0,t,i),t}function w(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function E(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}var o=/%20/g,u=/#.*$/,a=/([?&])_=[^&]*/,f=/^(.*?):[ \t]*([^\r\n]*)$/mg,l=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,c=/^(?:GET|HEAD)$/,h=/^\/\//,p={},d={},v="*/".concat("*"),m=t.createElement("a");return m.href=r.href,e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:r.href,type:"GET",isLocal:l.test(r.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":v,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?b(b(t,e.ajaxSettings),n):b(e.ajaxSettings,t)},ajaxPrefilter:g(p),ajaxTransport:g(d),ajax:function(l,g){function U(t,n,r,i){var s,o,u,a,f,l=n;if(k)return;k=!0,N&&window.clearTimeout(N),b=undefined,x=i||"",q.readyState=t>0?4:0,s=t>=200&&t<300||t===304,r&&(a=w(M,q,r)),a=E(M,a,q,s);if(s)M.ifModified&&(f=q.getResponseHeader("Last-Modified"),f&&(e.lastModified[S]=f),f=q.getResponseHeader("etag"),f&&(e.etag[S]=f)),t===204||M.type==="HEAD"?l="nocontent":t===304?l="notmodified":(l=a.state,o=a.data,u=a.error,s=!u);else{u=l;if(t||!l)l="error",t<0&&(t=0)}q.status=t,q.statusText=(n||l)+"",s?P.resolveWith(_,[o,l,q]):P.rejectWith(_,[q,l,u]),q.statusCode(B),B=undefined,L&&D.trigger(s?"ajaxSuccess":"ajaxError",[q,M,s?o:u]),H.fireWith(_,[q,l]),L&&(D.trigger("ajaxComplete",[q,M]),--e.active||e.event.trigger("ajaxStop"))}typeof l=="object"&&(g=l,l=undefined),g=g||{};var b,S,x,T,N,C,k,L,A,O,M=e.ajaxSetup({},g),_=M.context||M,D=M.context&&(_.nodeType||_.jquery)?e(_):e.event,P=e.Deferred(),H=e.Callbacks("once memory"),B=M.statusCode||{},j={},F={},I="canceled",q={readyState:0,getResponseHeader:function(e){var t;if(k){if(!T){T={};while(t=f.exec(x))T[t[1].toLowerCase()]=t[2]}t=T[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return k?x:null},setRequestHeader:function(e,t){return k==null&&(e=F[e.toLowerCase()]=F[e.toLowerCase()]||e,j[e]=t),this},overrideMimeType:function(e){return k==null&&(M.mimeType=e),this},statusCode:function(e){var t;if(e)if(k)q.always(e[q.status]);else for(t in e)B[t]=[B[t],e[t]];return this},abort:function(e){var t=e||I;return b&&b.abort(t),U(0,t),this}};P.promise(q),M.url=((l||M.url||r.href)+"").replace(h,r.protocol+"//"),M.type=g.method||g.type||M.method||M.type,M.dataTypes=(M.dataType||"*").toLowerCase().match(n)||[""];if(M.crossDomain==null){C=t.createElement("a");try{C.href=M.url,C.href=C.href,M.crossDomain=m.protocol+"//"+m.host!=C.protocol+"//"+C.host}catch(R){M.crossDomain=!0}}M.data&&M.processData&&typeof M.data!="string"&&(M.data=e.param(M.data,M.traditional)),y(p,M,g,q);if(k)return q;L=e.event&&M.global,L&&e.active++===0&&e.event.trigger("ajaxStart"),M.type=M.type.toUpperCase(),M.hasContent=!c.test(M.type),S=M.url.replace(u,""),M.hasContent?M.data&&M.processData&&(M.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(M.data=M.data.replace(o,"+")):(O=M.url.slice(S.length),M.data&&(S+=(s.test(S)?"&":"?")+M.data,delete M.data),M.cache===!1&&(S=S.replace(a,"$1"),O=(s.test(S)?"&":"?")+"_="+i++ +O),M.url=S+O),M.ifModified&&(e.lastModified[S]&&q.setRequestHeader("If-Modified-Since",e.lastModified[S]),e.etag[S]&&q.setRequestHeader("If-None-Match",e.etag[S])),(M.data&&M.hasContent&&M.contentType!==!1||g.contentType)&&q.setRequestHeader("Content-Type",M.contentType),q.setRequestHeader("Accept",M.dataTypes[0]&&M.accepts[M.dataTypes[0]]?M.accepts[M.dataTypes[0]]+(M.dataTypes[0]!=="*"?", "+v+"; q=0.01":""):M.accepts["*"]);for(A in M.headers)q.setRequestHeader(A,M.headers[A]);if(M.beforeSend&&(M.beforeSend.call(_,q,M)===!1||k))return q.abort();I="abort",H.add(M.complete),q.done(M.success),q.fail(M.error),b=y(d,M,g,q);if(!b)U(-1,"No Transport");else{q.readyState=1,L&&D.trigger("ajaxSend",[q,M]);if(k)return q;M.async&&M.timeout>0&&(N=window.setTimeout(function(){q.abort("timeout")},M.timeout));try{k=!1,b.send(j,U)}catch(R){if(k)throw R;U(-1,R)}}return q},getJSON:function(t,n,r){return e.get(t,n,r,"json")},getScript:function(t,n){return e.get(t,undefined,n,"script")}}),e.each(["get","post"],function(t,n){e[n]=function(t,r,i,s){return e.isFunction(r)&&(s=s||i,i=r,r=undefined),e.ajax(e.extend({url:t,type:n,dataType:s,data:r,success:i},e.isPlainObject(t)&&t))}}),e});