/*
 * Copyright 2014 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

define(["require","exports","module","../../lib/source-map/util"],function(e,t,n){var r=e("../../lib/source-map/util");t["test urls"]=function(e,t){var n=function(t){e.equal(t,r.urlGenerate(r.urlParse(t)))};n("http://"),n("http://www.example.com"),n("http://user:pass@www.example.com"),n("http://www.example.com:80"),n("http://www.example.com/"),n("http://www.example.com/foo/bar"),n("http://www.example.com/foo/bar/"),n("http://user:pass@www.example.com:80/foo/bar/"),n("//"),n("//www.example.com"),n("file:///www.example.com"),e.equal(r.urlParse("a//b"),null)},t["test normalize()"]=function(e,t){e.equal(r.normalize("/.."),"/"),e.equal(r.normalize("/../"),"/"),e.equal(r.normalize("/../../../.."),"/"),e.equal(r.normalize("/../../../../a/b/c"),"/a/b/c"),e.equal(r.normalize("/a/b/c/../../../d/../../e"),"/e"),e.equal(r.normalize(".."),".."),e.equal(r.normalize("../"),"../"),e.equal(r.normalize("../../a/"),"../../a/"),e.equal(r.normalize("a/.."),"."),e.equal(r.normalize("a/../../.."),"../.."),e.equal(r.normalize("/."),"/"),e.equal(r.normalize("/./"),"/"),e.equal(r.normalize("/./././."),"/"),e.equal(r.normalize("/././././a/b/c"),"/a/b/c"),e.equal(r.normalize("/a/b/c/./././d/././e"),"/a/b/c/d/e"),e.equal(r.normalize("."),"."),e.equal(r.normalize("./"),"."),e.equal(r.normalize("././a"),"a"),e.equal(r.normalize("a/./"),"a/"),e.equal(r.normalize("a/././."),"a"),e.equal(r.normalize("/a/b//c////d/////"),"/a/b/c/d/"),e.equal(r.normalize("///a/b//c////d/////"),"///a/b/c/d/"),e.equal(r.normalize("a/b//c////d"),"a/b/c/d"),e.equal(r.normalize(".///.././../a/b//./.."),"../../a"),e.equal(r.normalize("http://www.example.com"),"http://www.example.com"),e.equal(r.normalize("http://www.example.com/"),"http://www.example.com/"),e.equal(r.normalize("http://www.example.com/./..//a/b/c/.././d//"),"http://www.example.com/a/b/d/")},t["test join()"]=function(e,t){e.equal(r.join("a","b"),"a/b"),e.equal(r.join("a/","b"),"a/b"),e.equal(r.join("a//","b"),"a/b"),e.equal(r.join("a","b/"),"a/b/"),e.equal(r.join("a","b//"),"a/b/"),e.equal(r.join("a/","/b"),"/b"),e.equal(r.join("a//","//b"),"//b"),e.equal(r.join("a",".."),"."),e.equal(r.join("a","../b"),"b"),e.equal(r.join("a/b","../c"),"a/c"),e.equal(r.join("a","."),"a"),e.equal(r.join("a","./b"),"a/b"),e.equal(r.join("a/b","./c"),"a/b/c"),e.equal(r.join("a","http://www.example.com"),"http://www.example.com"),e.equal(r.join("a","data:foo,bar"),"data:foo,bar"),e.equal(r.join("http://foo.org/a","b"),"http://foo.org/a/b"),e.equal(r.join("http://foo.org/a/","b"),"http://foo.org/a/b"),e.equal(r.join("http://foo.org/a//","b"),"http://foo.org/a/b"),e.equal(r.join("http://foo.org/a","b/"),"http://foo.org/a/b/"),e.equal(r.join("http://foo.org/a","b//"),"http://foo.org/a/b/"),e.equal(r.join("http://foo.org/a/","/b"),"http://foo.org/b"),e.equal(r.join("http://foo.org/a//","//b"),"http://b"),e.equal(r.join("http://foo.org/a",".."),"http://foo.org/"),e.equal(r.join("http://foo.org/a","../b"),"http://foo.org/b"),e.equal(r.join("http://foo.org/a/b","../c"),"http://foo.org/a/c"),e.equal(r.join("http://foo.org/a","."),"http://foo.org/a"),e.equal(r.join("http://foo.org/a","./b"),"http://foo.org/a/b"),e.equal(r.join("http://foo.org/a/b","./c"),"http://foo.org/a/b/c"),e.equal(r.join("http://foo.org/a","http://www.example.com"),"http://www.example.com"),e.equal(r.join("http://foo.org/a","data:foo,bar"),"data:foo,bar"),e.equal(r.join("http://foo.org","a"),"http://foo.org/a"),e.equal(r.join("http://foo.org/","a"),"http://foo.org/a"),e.equal(r.join("http://foo.org//","a"),"http://foo.org/a"),e.equal(r.join("http://foo.org","/a"),"http://foo.org/a"),e.equal(r.join("http://foo.org/","/a"),"http://foo.org/a"),e.equal(r.join("http://foo.org//","/a"),"http://foo.org/a"),e.equal(r.join("http://","www.example.com"),"http://www.example.com"),e.equal(r.join("file:///","www.example.com"),"file:///www.example.com"),e.equal(r.join("http://","ftp://example.com"),"ftp://example.com"),e.equal(r.join("http://www.example.com","//foo.org/bar"),"http://foo.org/bar"),e.equal(r.join("//www.example.com","//foo.org/bar"),"//foo.org/bar")}});