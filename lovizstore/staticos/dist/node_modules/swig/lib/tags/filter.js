var filters=require("../filters");exports.compile=function(e,t,n,r,i,s){var o=t.shift().replace(/\($/,""),u='(function () {\n  var _output = "";\n'+e(n,r,i,s)+"  return _output;\n"+"})()";return t[t.length-1]===")"&&t.pop(),t=t.length?", "+t.join(""):"",'_output += _filters["'+o+'"]('+u+t+");\n"},exports.parse=function(e,t,n,r){function s(e){if(!filters.hasOwnProperty(e))throw new Error('Filter "'+e+'" does not exist on line '+t+".")}var i;return n.on(r.FUNCTION,function(e){if(!i){i=e.match.replace(/\($/,""),s(i),this.out.push(e.match),this.state.push(e.type);return}return!0}),n.on(r.VAR,function(e){if(!i){i=e.match,s(i),this.out.push(i);return}return!0}),!0},exports.ends=!0;